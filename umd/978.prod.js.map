{"version":3,"file":"978.prod.js","mappings":"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","sources":["webpack://tinode-webapp/./src/views/wallpapers.jsx"],"sourcesContent":["// Edit account parameters.\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport HashNavigation from '../lib/navigation.js';\nimport { WALLPAPER_DEFAULT, WALLPAPER_PATH } from '../config.js';\nimport imageIndex from '../../img/bkg/index.json';\n\nexport default class WallpapersView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      tab: WALLPAPER_DEFAULT.type, // 'patt' | 'img'\n      wallpaper: imageIndex[WALLPAPER_DEFAULT.type][WALLPAPER_DEFAULT.index].name,\n      blur: 0,\n    };\n\n    this.blurValues = [0, 1, 2, 4, 8, 16];\n\n    this.handleTabClick = this.handleTabClick.bind(this);\n    this.handleWallpaperSelected = this.handleWallpaperSelected.bind(this);\n    this.handleBlurChanged = this.handleBlurChanged.bind(this);\n  }\n\n  handleTabClick(e) {\n    e.preventDefault();\n    HashNavigation.navigateTo(HashNavigation.addUrlParam(window.location.hash, 'tab', e.currentTarget.dataset.id));\n    this.setState({tab: e.currentTarget.dataset.id});\n  }\n\n  handleWallpaperSelected(e) {\n    let index, type, blur\n    if (!e) {\n      // Restore default.\n      type = WALLPAPER_DEFAULT.type;\n      index = WALLPAPER_DEFAULT.index;\n      blur = 0;\n    } else {\n      e.preventDefault();\n      type = this.state.tab;\n      index = e.currentTarget.dataset.id;\n      blur = this.state.blur;\n    }\n    const fname = imageIndex[type][index].name;\n    const size = type == 'patt' ? imageIndex[type][index].size : 0;\n    this.setState({tab: type, wallpaper: fname, blur: 0});\n    this.props.onWallpaperSelected(`../${WALLPAPER_PATH}${fname}`, size, this.blurValues[blur]);\n  }\n\n  handleBlurChanged(e) {\n    e.preventDefault();\n    const blur = e.currentTarget.value;\n    this.setState({blur: blur});\n    // Path relative to CSS file.\n    this.props.onWallpaperSelected(`../${WALLPAPER_PATH}${this.state.wallpaper}`, 0, this.blurValues[blur]);\n  }\n\n  render() {\n    return (\n      <div className=\"flex-column\">\n        <div className=\"panel-form-row clean-clickable\">\n          <a className=\"flat-button\" onClick={() => this.handleWallpaperSelected(null)}>\n            <i className=\"material-icons\">undo</i>&nbsp;\n            <FormattedMessage id=\"button_restore\" defaultMessage=\"Restore default\" description=\"Reset setting to default\"/>\n          </a>\n        </div>\n        <ul className=\"tabbar\">\n          <li className={this.state.tab === 'patt' ? 'active' : null}>\n            <a href=\"#\" data-id=\"patt\" onClick={this.handleTabClick}>\n              <FormattedMessage id=\"tabtitle_pattern\" defaultMessage=\"pattern\"\n                description=\"Tab title Pattern\" />\n            </a>\n          </li>\n          <li className={this.state.tab === 'img' ? 'active' : null}>\n            <a href=\"#\" data-id=\"img\" onClick={this.handleTabClick}>\n              <FormattedMessage id=\"tabtitle_image\" defaultMessage=\"image\"\n                description=\"Tab title Image\" />\n            </a>\n          </li>\n        </ul>\n        <div id=\"settings-form\" className=\"scrollable-panel\">\n        {this.state.tab === 'patt' ?\n          <div className=\"image-grid\">\n            {imageIndex.patt.map((img, idx) => {\n              const selected = this.state.wallpaper === img.name ? ' selected' : '';\n              return <div key={idx} data-id={idx} className={`image-grid-cell${selected}`}\n                onClick={this.handleWallpaperSelected}>\n                <img src={WALLPAPER_PATH + img.name} alt={img.name}\n                  style={{ width: `${img.size}px`, height: `${img.size}px` }}/>\n              </div>\n            })}\n          </div> :\n          <>\n            <div className=\"panel-form-column\">\n              <div className=\"panel-form-row\">\n                <label className=\"small\">\n                  <FormattedMessage id=\"label_blur_wallpaper\" defaultMessage=\"Blur:\"\n                    description=\"Label adjusting blur amount\" />\n                </label>\n              </div>\n              <div className=\"panel-form-row\">\n                <input type=\"range\" id=\"blur\" name=\"blur\" min=\"0\" max=\"5\" step=\"1\"\n                  value={this.state.blur} onChange={this.handleBlurChanged} />\n              </div>\n            </div>\n            <div className=\"image-grid\">\n              {imageIndex.img.map((img, idx) => {\n                const selected = this.state.wallpaper === img.name ? ' selected' : '';\n                return <div key={idx} data-id={idx} className={`image-grid-cell${selected}`}\n                  onClick={this.handleWallpaperSelected}>\n                  <img src={WALLPAPER_PATH + img.pr} alt={img.name} style={{ width: '100%', height: '100%' }}/>\n                </div>\n              })}\n            </div>\n          </>\n        }</div>\n      </div>\n    );\n  }\n}\n"],"names":["WallpapersView","React","constructor","props","super","this","state","tab","WALLPAPER_DEFAULT","type","wallpaper","imageIndex","index","name","blur","blurValues","handleTabClick","bind","handleWallpaperSelected","handleBlurChanged","e","preventDefault","HashNavigation","navigateTo","addUrlParam","window","location","hash","currentTarget","dataset","id","setState","fname","size","onWallpaperSelected","WALLPAPER_PATH","value","render","className","onClick","FormattedMessage","defaultMessage","href","map","img","idx","selected","key","src","alt","style","width","height","min","max","step","onChange","pr"],"sourceRoot":""}