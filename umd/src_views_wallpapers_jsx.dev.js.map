{"version":3,"file":"src_views_wallpapers_jsx.dev.js","mappings":"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","sources":["webpack://tinode-webapp/./src/views/wallpapers.jsx"],"sourcesContent":["// Edit account parameters.\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport HashNavigation from '../lib/navigation.js';\nimport { WALLPAPER_DEFAULTS } from '../config.js';\nimport { wallpaperNameFromUrl, wallpaperTypeFromUrl } from '../lib/utils.js';\nimport imageIndex from '../../img/bkg/index.json';\n\nexport default class WallpapersView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    const type = wallpaperTypeFromUrl(this.props.wallpaper);\n    const name = wallpaperNameFromUrl(this.props.wallpaper);\n    this.state = {\n      tab: type || WALLPAPER_DEFAULTS.type, // currently selected tab: 'patt' | 'img'\n      selectedType: type || WALLPAPER_DEFAULTS.type, // type of the selected wallpaper.\n      wallpaper: name || imageIndex[WALLPAPER_DEFAULTS.type][WALLPAPER_DEFAULTS.index].name,\n      blur: this.props.wallpaperBlur | 0,\n    };\n\n    this.blurValues = [0, 1, 2, 4, 8, 16];\n\n    this.handleTabClick = this.handleTabClick.bind(this);\n    this.handleWallpaperSelected = this.handleWallpaperSelected.bind(this);\n    this.handleBlurChanged = this.handleBlurChanged.bind(this);\n    this.hasChanged = this.hasChanged.bind(this);\n  }\n\n  handleTabClick(e) {\n    e.preventDefault();\n    HashNavigation.navigateTo(HashNavigation.addUrlParam(window.location.hash, 'tab', e.currentTarget.dataset.id));\n    this.setState({tab: e.currentTarget.dataset.id});\n  }\n\n  handleWallpaperSelected(e) {\n    let index, type, blur\n    if (!e) {\n      if (!this.hasChanged()) {\n        return;\n      }\n\n      // Restore default.\n      type = WALLPAPER_DEFAULTS.type;\n      index = WALLPAPER_DEFAULTS.index;\n      blur = 0;\n    } else {\n      e.preventDefault();\n      type = this.state.tab;\n      index = e.currentTarget.dataset.id;\n      blur = type == 'patt' ? 0 : this.state.blur;\n    }\n    const fname = imageIndex[type][index].name;\n    const size = type == 'patt' ? imageIndex[type][index].size : 0;\n    this.setState({tab: type, wallpaper: fname, selectedType: type, blur: blur});\n    this.props.onWallpaperSelected(`../${WALLPAPER_DEFAULTS.path}${fname}`, size, this.blurValues[blur]);\n  }\n\n  handleBlurChanged(e) {\n    e.preventDefault();\n    const blur = e.currentTarget.value;\n    this.setState({blur: blur});\n    if (this.state.selectedType == 'img') {\n      // Apply blur to patterns only. Path relative to CSS file.\n      this.props.onWallpaperSelected(`../${WALLPAPER_DEFAULTS.path}${this.state.wallpaper}`, 0, this.blurValues[blur]);\n    }\n  }\n\n  hasChanged() {\n    return this.state.selectedType != WALLPAPER_DEFAULTS.type ||\n      this.state.wallpaper != imageIndex[WALLPAPER_DEFAULTS.type][WALLPAPER_DEFAULTS.index].name ||\n      this.state.blur != 0;\n  }\n\n  render() {\n    return (\n      <div className=\"flex-column\">\n        <div className={`panel-form-row${this.hasChanged() ? ' clean-clickable' : ''}`}>\n          <a className={`flat-button${this.hasChanged() ? '' : ' disabled'}`}\n            onClick={() => this.handleWallpaperSelected(null)}>\n            <i className=\"m-icon\">undo</i>&nbsp;\n            <FormattedMessage id=\"button_restore\" defaultMessage=\"Restore default\" description=\"Reset setting to default\"/>\n          </a>\n        </div>\n        <ul className=\"tabbar\">\n          <li className={this.state.tab === 'patt' ? 'active' : null}>\n            <a href=\"#\" data-id=\"patt\" onClick={this.handleTabClick}>\n              <FormattedMessage id=\"tabtitle_pattern\" defaultMessage=\"pattern\"\n                description=\"Tab title Pattern\" />\n            </a>\n          </li>\n          <li className={this.state.tab === 'img' ? 'active' : null}>\n            <a href=\"#\" data-id=\"img\" onClick={this.handleTabClick}>\n              <FormattedMessage id=\"tabtitle_image\" defaultMessage=\"image\"\n                description=\"Tab title Image\" />\n            </a>\n          </li>\n        </ul>\n        <div id=\"settings-form\" className=\"scrollable-panel\">\n        {this.state.tab === 'patt' ?\n          <div className=\"image-grid\">\n            {imageIndex.patt.map((img, idx) => {\n              const selected = this.state.wallpaper === img.name ? ' selected' : '';\n              const dark = this.props.colorSchema == 'dark' ? 'inverted' : null;\n              return <div key={idx} data-id={idx} className={`image-grid-cell${selected}`}\n                onClick={this.handleWallpaperSelected}>\n                <img src={WALLPAPER_DEFAULTS.path + img.name} alt={img.name} className={dark}\n                  style={{ width: `${img.size}px`, height: `${img.size}px` }}/>\n              </div>\n            })}\n          </div> :\n          <>\n            <div className=\"panel-form-column\">\n              <div className=\"panel-form-row\">\n                <label className=\"small\">\n                  <FormattedMessage id=\"label_blur_wallpaper\" defaultMessage=\"Blur:\"\n                    description=\"Label adjusting blur amount\" />\n                </label>\n              </div>\n              <div className=\"panel-form-row\">\n                <input type=\"range\" id=\"blur\" name=\"blur\" min=\"0\" max=\"5\" step=\"1\"\n                  value={this.state.blur} onChange={this.handleBlurChanged} />\n              </div>\n            </div>\n            <div className=\"image-grid\">\n              {imageIndex.img.map((img, idx) => {\n                const selected = this.state.wallpaper === img.name ? ' selected' : '';\n                return <div key={idx} data-id={idx} className={`image-grid-cell${selected}`}\n                  onClick={this.handleWallpaperSelected}>\n                  <img src={WALLPAPER_DEFAULTS.path + img.pr} alt={img.name} style={{ width: '100%', height: '100%' }}/>\n                </div>\n              })}\n            </div>\n          </>\n        }</div>\n      </div>\n    );\n  }\n}\n"],"names":["React","FormattedMessage","HashNavigation","WALLPAPER_DEFAULTS","wallpaperNameFromUrl","wallpaperTypeFromUrl","imageIndex","WallpapersView","PureComponent","constructor","props","type","wallpaper","name","state","tab","selectedType","index","blur","wallpaperBlur","blurValues","handleTabClick","bind","handleWallpaperSelected","handleBlurChanged","hasChanged","e","preventDefault","navigateTo","addUrlParam","window","location","hash","currentTarget","dataset","id","setState","fname","size","onWallpaperSelected","path","value","render","createElement","className","onClick","defaultMessage","href","patt","map","img","idx","selected","dark","colorSchema","key","src","alt","style","width","height","Fragment","min","max","step","onChange","pr"],"ignoreList":[],"sourceRoot":""}